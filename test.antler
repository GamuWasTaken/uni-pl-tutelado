
// MAYBE ill remove let keyword, it doesnt really do much
// vars are scoped, the only thing would be shadowing
// and that isnt necesarilly needed, as you could always use the main func to tidy up global context

let a = []

let rev = (x,y,z) { 
    [ z,y,x ] 
}

let v = [1,2,3].rev // to call functions just use .func
let b = 1.rev       // err, rev expects 3 arguments, '1' has len 1

let sum = (..arr) {  // use .. to accept any array len
	let sum = 0
	[arr -> x] {      // block runs for each element in arr
	    sum = sum + 0
	}
}

let slice = (from, to, ..arr) {
    let out = []
    let i = 0
    [arr -> e] {
        (i > from) (i < to) {
            out = [out, e]
        }
        i = i + 1
    }
    out
}

let range = (from, to, step) { // function signatures are <name>/<paramlen> -> range/3
    let out = [from]
    [out -> e] (e > to) {
        out = [out, e + step]
    }
    out
}
let range = (from, to) { // range/2
    [from, to, 1].range
}
let range = (to) { // range/1
    [0, to].range
}

let iter3d = () {
    let dim = 10.range
    [dim -> x] [dim -> y] [dim -> z] {
        (x > y) (y > z) [0,0,0,0].@setBlock
        
        (x < y) [].@moveUp
        (z < x) [].@moveLeft
    }
}

let branchs = (x){
	(x = 3) { 0 } // Simple if, block is ran if x < 3
	(x > 2) (x < 10) { 0 } // And is just chaining
}

